{% extends 'base/base.html' %}
{% load static %}
{% block contenido %}
    <div class="mb-3 row">
        <h3 class="text-center bg-success rounded-3 text-white">INFORMACION DE {{convocatoria.nombre}}</h3>
        <div class="card card-default mt-3 mb-3">
            <h3 class="text-center rounded-3">INFORMACION DE POSTULACION</h3>
            <div class="card-body table-responsive-md p-0 mt-3">
                <table class="table table-striped table-bordered table-hover text-center text-wrap" id="Table1">
                    <thead class="bg-info">
                        <tr>
                            <th scope="col">TOTAL SOLICITUDES </th>
                            <th scope="col">TOTAL SOLICITUDES ITCP</th>
                            <th scope="col">TOTAL SOLICITUDES EDTP</th>
                            <th scope="col">TOTAL SIN REVISAR</th>
                        </tr>
                    </thead>
                    <tbody class="font-weight-bold">
                        <tr>
                            <td class="bg-success-subtle"> {{ num_total }}</td>
                            <td> {{ totalFin1 }}</td>
                            <td> {{ totalFin2 }}</td>
                            <td> {{ total_SR }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        {% if convocatoria.elabEdtp %}
        <div class='card bg-secondary'>
            <h3 class="text-center rounded-3">INFORMACION DE ITCP </h3>
            <div class="card-body table-responsive-md p-0 mt-3">
                <table class="table table-striped table-bordered table-hover text-center text-wrap" id="Table2">
                    <thead class="bg-info">
                        <tr>
                            <th scope="col">TOTAL ENVIADOS </th>
                            <th scope="col">TOTAL SIN ENVIAR</th>
                            <th scope="col">TOTAL SIN REVISAR</th>
                            <th scope="col">TOTAL CON OBSERVACIONES</th>
                            <th scope="col">TOTAL COMPLETADO</th>
                        </tr>
                    </thead>
                    <tbody class="font-weight-bold">
                        <tr>
                            <td class="bg-success-subtle"> {{ fin1_env_c }}</td>
                            <td> {{ fin1_sin_enviar }}</td>
                            <td> {{ fin1_srevisar_c }}</td>
                            <td> {{ fin1_observar_c }}</td>
                            <td> {{ fin1_aprobado_c }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card card-default mt-3 mb-3">
            <h3 class="text-center rounded-3">INFORMACION DE ITCP NO ENVIADAS </h3>
            <div class="card-body table-responsive-md p-0 mt-3">
                <table class="table table-striped table-bordered table-hover text-center text-wrap" id="myTable">
                    <thead class="bg-info">
                        <tr>
                            <th scope="col">CODIGO</th>
                            <th scope="col">CODIGO</th>
                            <th scope="col">DEPARTAMENTO</th>
                            <th scope="col">ETA</th>
                            <th scope="col">MUNICIPIO</th>
                            <th scope="col">POSTULACION</th>
                        </tr>
                    </thead>
                    <tbody class="font-weight-bold">
                        {% for fin1_envS in fin1_no_env %}
                            <tr>
                                <td class="bg-success-subtle"> {{ fin1_envS.id }}</td>
                                <td class="bg-success-subtle"> {{ fin1_envS.slug }}</td>
                                <td> {{ fin1_envS.municipio.departamento }}</td>
                                <td> {{ fin1_envS.municipio.entidad_territorial }}</td>
                                <td> {{ fin1_envS.municipio.nombre_municipio }}</td>
                                <td> <a href=" {% url 'solicitud:Ficha_solicitud' fin1_envS.slug %} " type="button" class="btn btn-primary btn-xs"><i class="fa fa-eye"></i></a></td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card card-default mt-3 mb-3">
            <h3 class="text-center rounded-3">INFORMACION DE ITCP ENVIADAS </h3>
            <div class="card-body table-responsive-md p-0 mt-3">
                <table class="table table-striped table-bordered table-hover text-center text-wrap" id="myTable1">
                    <thead class="bg-info">
                        <tr>
                            <th scope="col">CODIGO</th>
                            <th scope="col">CODIGO</th>
                            <th scope="col">DEPARTAMENTO</th>
                            <th scope="col">ETA</th>
                            <th scope="col">MUNICIPIO</th>
                            <th scope="col">NOMBRE PROYECTO</th>
                            <th scope="col">ESTADO</th>
                            <th scope="col">POSTULACION</th>
                            <th scope="col">ITCP</th>
                        </tr>
                    </thead>
                    <tbody class="font-weight-bold">
                        {% for fin1_envS in fin1_env %}
                            <tr>
                                <td class="bg-success-subtle"> {{ fin1_envS.datos_basicos.postulacion.id }}</td>
                                <td class="bg-success-subtle"> {{ fin1_envS.slug }}</td>
                                <td> {{ fin1_envS.datos_basicos.postulacion.municipio.departamento }}</td>
                                <td> {{ fin1_envS.datos_basicos.postulacion.municipio.entidad_territorial }}</td>
                                <td> {{ fin1_envS.datos_basicos.postulacion.municipio.nombre_municipio }}</td>
                                <td> {{ fin1_envS.datos_basicos.nombre }}</td>
                                <td> {{ fin1_envS.estado }}</td>
                                <td> <a href=" {% url 'solicitud:Ficha_solicitud' fin1_envS.slug %} " type="button" class="btn btn-primary btn-xs"><i class="fa fa-eye"></i></a></td>
                                <td> <a href=" {% url 'proyecto:ver_Datos' fin1_envS.slug %} " type="button" class="btn btn-primary btn-xs"><i class="fa fa-eye"></i></a></td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        {% endif %}
        {% if convocatoria.EjecEdtp %}
        <div class="card card-default mt-3 mb-3 bg-secondary">
            <h3 class="text-center rounded-3">INFORMACION DE EDTP</h3>
            <div class="card-body table-responsive-md p-0 mt-3">
                <table class="table table-striped table-bordered table-hover text-center text-wrap" id="Table2">
                    <thead class="bg-info">
                        <tr>
                            <th scope="col">TOTAL ENVIADOS </th>
                            <th scope="col">TOTAL SIN ENVIAR</th>
                            <th scope="col">TOTAL SIN REVISAR</th>
                            <th scope="col">TOTAL CON OBSERVACIONES</th>
                            <th scope="col">TOTAL COMPLETADO</th>
                        </tr>
                    </thead>
                    <tbody class="font-weight-bold">
                        <tr>
                            <td class="bg-success-subtle"> {{ fin2_env_c }}</td>
                            <td> {{ fin2_sin_enviar }}</td>
                            <td> {{ fin2_srevisar_c }}</td>
                            <td> {{ fin2_observar_c }}</td>
                            <td> {{ fin2_aprobado_c }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card card-default mt-3 mb-3">
            <h3 class="text-center rounded-3">INFORMACION DE EDTP NO ENVIADAS </h3>
            <div class="card-body table-responsive-md p-0 mt-3">
                <table class="table table-striped table-bordered table-hover text-center text-wrap" id="myTable3">
                    <thead class="bg-info">
                        <tr>
                            <th scope="col">CODIGO</th>
                            <th scope="col">CODIGO</th>
                            <th scope="col">DEPARTAMENTO</th>
                            <th scope="col">ETA</th>
                            <th scope="col">MUNICIPIO</th>
                            <th scope="col">POSTULACION</th>
                        </tr>
                    </thead>
                    <tbody class="font-weight-bold">
                        {% for fin2_envS in fin2_no_env %}
                            <tr>
                                <td class="bg-success-subtle"> {{ fin2_envS.id }}</td>
                                <td class="bg-success-subtle"> {{ fin2_envS.slug }}</td>
                                <td> {{ fin2_envS.municipio.departamento }}</td>
                                <td> {{ fin2_envS.municipio.entidad_territorial }}</td>
                                <td> {{ fin2_envS.municipio.nombre_municipio }}</td>
                                <td> <a href=" {% url 'solicitud:Ficha_solicitud' fin2_envS.slug %} " type="button" class="btn btn-primary btn-xs"><i class="fa fa-eye"></i></a></td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card card-default mt-3 mb-3">
            <h3 class="text-center rounded-3">INFORMACION DE EDTP ENVIADAS</h3>
            <div class="card-body table-responsive-md p-0 mt-3">
                <table class="table table-striped table-bordered table-hover text-center text-wrap" id="myTable4">
                    <thead class="bg-info">
                        <tr>
                            <th scope="col">CODIGO</th>
                            <th scope="col">CODIGO</th>
                            <th scope="col">DEPARTAMENTO</th>
                            <th scope="col">ETA</th>
                            <th scope="col">MUNICIPIO</th>
                            <th scope="col">NOMBRE PROYECTO</th>
                            <th scope="col">ESTADO</th>
                            <th scope="col">POSTULACION</th>
                            <th scope="col">EDTP</th>
                        </tr>
                    </thead>
                    <tbody class="font-weight-bold">
                        {% for fin2_envS in fin2_env %}
                            <tr>
                                <td class="bg-success-subtle"> {{ fin2_envS.datos_basicos.postulacion.id }}</td>
                                <td class="bg-success-subtle"> {{ fin2_envS.slug }}</td>
                                <td> {{ fin2_envS.datos_basicos.postulacion.municipio.departamento }}</td>
                                <td> {{ fin2_envS.datos_basicos.postulacion.municipio.entidad_territorial }}</td>
                                <td> {{ fin2_envS.datos_basicos.postulacion.municipio.nombre_municipio }}</td>
                                <td> {{ fin2_envS.datos_basicos.nombre }}</td>
                                <td> {{ fin2_envS.estado }}</td>
                                <td> <a href=" {% url 'solicitud:Ficha_solicitud' fin2_envS.slug %} " type="button" class="btn btn-primary btn-xs"><i class="fa fa-eye"></i></a></td>
                                <td> <a href=" {% url 'proyecto:ver_Datos' fin2_envS.slug %} " type="button" class="btn btn-primary btn-xs"><i class="fa fa-eye"></i></a></td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        {% endif %}
    </div>
{% endblock %}
{% block funcScript %}
<script>
let table = new DataTable('#myTable');
let table1 = new DataTable('#myTable1');
let table2 = new DataTable('#myTable2');
let table3 = new DataTable('#myTable3');
let table4 = new DataTable('#myTable4');
</script>
{% endblock %}